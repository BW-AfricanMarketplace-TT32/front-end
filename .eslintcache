[{"/Users/leah/Documents/Lambda/web-2/BW/front-end/src/index.js":"1","/Users/leah/Documents/Lambda/web-2/BW/front-end/src/App.js":"2","/Users/leah/Documents/Lambda/web-2/BW/front-end/src/auth/PrivateRoute.js":"3","/Users/leah/Documents/Lambda/web-2/BW/front-end/src/components/Dashboard.js":"4","/Users/leah/Documents/Lambda/web-2/BW/front-end/src/components/Register.js":"5","/Users/leah/Documents/Lambda/web-2/BW/front-end/src/auth/axiosWithAuth.js":"6","/Users/leah/Documents/Lambda/web-2/BW/front-end/src/components/Homepage.js":"7","/Users/leah/Documents/Lambda/web-2/BW/front-end/src/components/Login.js":"8","/Users/leah/Documents/Lambda/web-2/BW/front-end/src/validation/loginschema.js":"9","/Users/leah/Documents/Lambda/web-2/BW/front-end/src/components/Navbar.js":"10","/Users/leah/Documents/Lambda/web-2/BW/front-end/src/validation/registerschema.js":"11","/Users/leah/Documents/Lambda/web-2/BW/front-end/src/reducers/index.js":"12","/Users/leah/Documents/Lambda/web-2/BW/front-end/src/actions/index.js":"13"},{"size":563,"mtime":1609886461304,"results":"14","hashOfConfig":"15"},{"size":4009,"mtime":1609886461302,"results":"16","hashOfConfig":"15"},{"size":427,"mtime":1609882973713,"results":"17","hashOfConfig":"15"},{"size":881,"mtime":1609886461303,"results":"18","hashOfConfig":"15"},{"size":1931,"mtime":1609885107867,"results":"19","hashOfConfig":"15"},{"size":261,"mtime":1609882973714,"results":"20","hashOfConfig":"15"},{"size":2361,"mtime":1609886461303,"results":"21","hashOfConfig":"15"},{"size":1277,"mtime":1609886461303,"results":"22","hashOfConfig":"15"},{"size":207,"mtime":1609878037492,"results":"23","hashOfConfig":"15"},{"size":816,"mtime":1609882973714,"results":"24","hashOfConfig":"15"},{"size":339,"mtime":1609884584497,"results":"25","hashOfConfig":"15"},{"size":464,"mtime":1609886461304,"results":"26","hashOfConfig":"15"},{"size":684,"mtime":1609886461302,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1pkyj9v",{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/leah/Documents/Lambda/web-2/BW/front-end/src/index.js",[],"/Users/leah/Documents/Lambda/web-2/BW/front-end/src/App.js",["56"],"import { React, useState, useEffect } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport PrivateRoute from \"./auth/PrivateRoute\";\nimport Login from \"./components/Login\";\nimport Homepage from \"./components/Homepage\";\nimport Dashboard from \"./components/Dashboard\";\nimport { useHistory } from \"react-router-dom\";\n\nimport * as yup from \"yup\";\nimport loginschema from \"./validation/loginschema\";\nimport Register from \"./components/Register\";\nimport axios from \"axios\";\nimport registerschema from \"./validation/registerschema\";\n\n//login form initial\nconst initialLoginValues = {\n  email: \"\",\n  password: \"\"\n};\nconst initialLoginErrors = {\n  email: \"\",\n  password: \"\"\n};\n\n//register form initial\nconst initialRegisterValues = {\n  email: \"\",\n  password: \"\",\n  admin: \"0\"\n};\nconst initialRegisterErrors = {\n  email: \"\",\n  password: \"\",\n  main: \"\"\n};\n\nfunction App() {\n  const [loginValues, setLoginValues] = useState(initialLoginValues);\n  const [loginErrors, setLoginErrors] = useState(initialLoginErrors);\n  const [loginDisabled, setLoginDisabled] = useState(true);\n  const history = useHistory();\n  const [registerValues, setRegisterValues] = useState(initialRegisterValues);\n  const [registerErrors, setRegisterErrors] = useState(initialRegisterErrors);\n  const [registerDisabled, setRegisterDisabled] = useState(true);\n\n  //log-in form functions\n  useEffect(() => {\n    loginschema.isValid(loginValues).then(valid => setLoginDisabled(!valid));\n  }, [loginValues]);\n\n  const loginChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    console.log(loginValues, \"CURRENT LOGIN\");\n\n    yup\n      .reach(loginschema, name)\n      .validate(value)\n      .then(() => {\n        setLoginErrors({\n          ...loginErrors,\n          [name]: \"\"\n        });\n      })\n      .catch(err => {\n        setLoginErrors({\n          ...loginErrors,\n          [name]: err.errors[0]\n        });\n      });\n\n    setLoginValues({\n      ...loginValues,\n      [name]: value\n    });\n    console.log(loginValues, \"vals\");\n  };\n\n  const submit = e => {\n    e.preventDefault();\n    axios\n      .post(\n        \"https://bw-african-marketplace-tt32.herokuapp.com/auth/login\",\n        loginValues\n      )\n      .then(res => {\n        console.log(res, \"SUBMIT RES\");\n        localStorage.setItem(\"token\", res.data.token);\n        // localStorage.setItem(\"admin_status\", res.data.admin_status);\n      })\n      .then(() => {\n        history.push(\"/dashboard\");\n      })\n      .catch(err => {\n        console.log(err, \"ERROR SOMETHING IS WRONG\");\n      });\n  };\n\n  //register form functions\n  useEffect(() => {\n    registerschema\n      .isValid(registerValues)\n      .then(valid => setRegisterDisabled(!valid));\n  }, [registerValues]);\n\n  const registerSubmit = e => {\n    e.preventDefault();\n  };\n\n  const registerChange = e => {\n    const { name, value } = e.target;\n\n    yup\n      .reach(registerschema, name)\n      .validate(value)\n      .then(() => {\n        setRegisterErrors({\n          ...registerErrors,\n          [name]: \"\"\n        });\n      })\n      .catch(err => {\n        setRegisterErrors({\n          ...registerErrors,\n          [name]: err.errors[0]\n        });\n      });\n\n    setRegisterValues({\n      ...registerValues,\n      [name]: value\n    });\n  };\n\n  return (\n    <>\n      <Switch>\n        <Route path=\"/login\">\n          <Login\n            values={loginValues}\n            submit={submit}\n            change={loginChange}\n            errors={loginErrors}\n            disabled={loginDisabled}\n          />\n        </Route>\n\n        <Route exact path=\"/\">\n          <Homepage />\n        </Route>\n        <Route path=\"/register\">\n          <Register\n            values={registerValues}\n            submit={registerSubmit}\n            change={registerChange}\n            errors={registerErrors}\n            disabled={registerDisabled}\n          />\n        </Route>\n        <PrivateRoute path=\"/dashboard\" component={Dashboard} />\n      </Switch>\n    </>\n  );\n}\n\nexport default App;\n",["57","58"],"/Users/leah/Documents/Lambda/web-2/BW/front-end/src/auth/PrivateRoute.js",[],"/Users/leah/Documents/Lambda/web-2/BW/front-end/src/components/Dashboard.js",[],"/Users/leah/Documents/Lambda/web-2/BW/front-end/src/components/Register.js",[],"/Users/leah/Documents/Lambda/web-2/BW/front-end/src/auth/axiosWithAuth.js",[],"/Users/leah/Documents/Lambda/web-2/BW/front-end/src/components/Homepage.js",[],"/Users/leah/Documents/Lambda/web-2/BW/front-end/src/components/Login.js",[],"/Users/leah/Documents/Lambda/web-2/BW/front-end/src/validation/loginschema.js",[],"/Users/leah/Documents/Lambda/web-2/BW/front-end/src/components/Navbar.js",[],"/Users/leah/Documents/Lambda/web-2/BW/front-end/src/validation/registerschema.js",[],"/Users/leah/Documents/Lambda/web-2/BW/front-end/src/reducers/index.js",["59","60","61","62"],"/Users/leah/Documents/Lambda/web-2/BW/front-end/src/actions/index.js",[],{"ruleId":"63","severity":1,"message":"64","line":7,"column":8,"nodeType":"65","messageId":"66","endLine":7,"endColumn":13},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","replacedBy":"70"},{"ruleId":"63","severity":1,"message":"71","line":2,"column":3,"nodeType":"65","messageId":"66","endLine":2,"endColumn":20},{"ruleId":"63","severity":1,"message":"72","line":3,"column":3,"nodeType":"65","messageId":"66","endLine":3,"endColumn":11},{"ruleId":"63","severity":1,"message":"73","line":5,"column":3,"nodeType":"65","messageId":"66","endLine":5,"endColumn":11},{"ruleId":"63","severity":1,"message":"74","line":6,"column":3,"nodeType":"65","messageId":"66","endLine":6,"endColumn":12},"no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","no-native-reassign",["75"],"no-negated-in-lhs",["76"],"'SET_LOGGED_STATUS' is defined but never used.","'SET_USER' is defined but never used.","'ADD_ITEM' is defined but never used.","'EDIT_ITEM' is defined but never used.","no-global-assign","no-unsafe-negation"]